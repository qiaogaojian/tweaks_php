# 增删改查

## 连接数据库

```sh
Michael@Michael-PC MINGW64 /d/xampp/htdocs (master)
$ mysql -h localhost -u root -p
Enter password: ****
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 19
Server version: 5.5.47 MySQL Community Server (GPL)

Copyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
```

## 进入相应数据库查看表

```sh
mysql> use test
Database changed
mysql> show tables;
+----------------+
| Tables_in_test |
+----------------+
| a              |
| b              |
| boy            |
| category       |
| girl           |
| goods          |
| m              |
| mian           |
| result         |
| t              |
| user           |
+----------------+
11 rows in set (0.00 sec)
```

## 查询表中数据

```sh
mysql> select * form user;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'form
user' at line 1
mysql> select * from user;
+-----+--------+-----+
| uid | name   | age |
+-----+--------+-----+
|   1 | 乔高建 |  25 |
+-----+--------+-----+
1 row in set (0.00 sec)
```

## 插入数据

```sh
mysql> insert into user (uid,name) values (2,Michael);
ERROR 1054 (42S22): Unknown column 'Michael' in 'field list'
mysql> insert into user (uid,name) values (2,"Michael");
Query OK, 1 row affected (0.00 sec)
```

## 查看表结构

```sh
mysql> desc user
    -> ;
+-------+----------------------+------+-----+---------+----------------+
| Field | Type                 | Null | Key | Default | Extra          |
+-------+----------------------+------+-----+---------+----------------+
| uid   | int(11)              | NO   | PRI | NULL    | auto_increment |
| name  | varchar(20)          | NO   |     |         |                |
| age   | smallint(5) unsigned | NO   |     | 0       |                |
+-------+----------------------+------+-----+---------+----------------+
3 rows in set (0.02 sec)

mysql> insert into user values (3,"Michelle",26);
Query OK, 1 row affected (0.00 sec)

mysql> select * from user
    -> ;
+-----+----------+-----+
| uid | name     | age |
+-----+----------+-----+
|   1 | 乔高建   |  25 |
|   2 | Michael  |   0 |
|   3 | Michelle |  26 |
+-----+----------+-----+
3 rows in set (0.00 sec)
```

## 更改数据表数据

```sh
mysql> update user set age=18 where name="Michael";
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from user;
+-----+----------+-----+
| uid | name     | age |
+-----+----------+-----+
|   1 | 乔高建   |  25 |
|   2 | Michael  |  18 |
|   3 | Michelle |  26 |
+-----+----------+-----+
3 rows in set (0.00 sec)

mysql> update user
    -> set
    -> age = 9
    -> name = "nobody"
    -> where uid = 2;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'name
= "nobody"
where uid = 2' at line 4
mysql> update user set age=19 name="迈克尔" where uid=2;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'name="迈克尔" where uid=2' at line 1
mysql> update user set name="迈克尔",age=19 where uid=2;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from user;
+-----+----------+-----+
| uid | name     | age |
+-----+----------+-----+
|   1 | 乔高建   |  25 |
|   2 | 迈克尔   |  19 |
|   3 | Michelle |  26 |
+-----+----------+-----+
3 rows in set (0.00 sec)

mysql> update user set name="迈克尔" age=19 where uid=2;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'age=19 where uid=2' at line 1
mysql> update user set name="迈克尔",age=19 where uid=2;
Query OK, 0 rows affected (0.00 sec)
Rows matched: 1  Changed: 0  Warnings: 0

mysql> select * from user;
+-----+----------+-----+
| uid | name     | age |
+-----+----------+-----+
|   1 | 乔高建   |  25 |
|   2 | 迈克尔   |  19 |
|   3 | Michelle |  26 |
+-----+----------+-----+
3 rows in set (0.00 sec)
```

## 删除数据表数据

```sh
mysql> delete from user where uid=3;
Query OK, 1 row affected (0.00 sec)

mysql> select * from user;
+-----+--------+-----+
| uid | name   | age |
+-----+--------+-----+
|   1 | 乔高建 |  25 |
|   2 | 迈克尔 |  19 |
+-----+--------+-----+
2 rows in set (0.00 sec)
```

## 插入多行数据

```sh
mysql> insert into user values
    -> (1,"张三",20),
    -> (2,"李四",21),
    -> (3,"王五",22)
    -> ;
ERROR 1062 (23000): Duplicate entry '1' for key 'PRIMARY'
mysql> insert into user values
    ->     -> (1,"张三",20),
    ->     -> (2,"李四",21),
    ->     -> (3,"王五",22)
    ->
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-> (1,"张三",20),
    -> (2,"李四",21),
    -> (3,"王五",22)' at line 2
mysql> insert into user values
    -> (3,"张三",20),
    -> (4,"李四",21),
    -> (5,"王五",22)
    -> ;
Query OK, 3 rows affected (0.00 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> select * from user;
+-----+--------+-----+
| uid | name   | age |
+-----+--------+-----+
|   1 | 乔高建 |  25 |
|   2 | 迈克尔 |  19 |
|   3 | 张三   |  20 |
|   4 | 李四   |  21 |
|   5 | 王五   |  22 |
+-----+--------+-----+
5 rows in set (0.00 sec)

mysql> select uid name from user where uid>=3;
+------+
| name |
+------+
|    3 |
|    4 |
|    5 |
+------+
3 rows in set (0.00 sec)
```

## 多条件查询数据

```sh
mysql>  select uid,name from user where uid>=3;
+-----+------+
| uid | name |
+-----+------+
|   3 | 张三 |
|   4 | 李四 |
|   5 | 王五 |
+-----+------+
3 rows in set (0.00 sec)
```